<application>
  <component name="StudioBotSettings">
    <option name="contextSharingMode" value="ALWAYS_SHARE" />
    <option name="enableCodeCompletion" value="false" />
    <option name="onboardedVersion" value="3" />
    <option name="queryHistory">
      <list>
        <historyEntry timestamp="1747128674253">ä»£ç ä¸­çš„SideBarsæ²¡æœ‰æ˜¾ç¤º
fun &lt;T&gt; VanSidebar(
    modifier: Modifier = Modifier,
    options: List&lt;T&gt;,
    selectedIndex: Int,
    onSelect: (Int) -&gt; Unit,
    item: @Composable (t: T, select: Boolean) -&gt; Unit,

    ) {


    val state = remember { SidebarState() }
    state.selectedIndex = selectedIndex
    state.optionsCount = options.size
    state.onSelected = onSelect


    val selectedIndexOffset by animateFloatAsState(state.selectedIndex.toFloat(), label = &quot;&quot;)

    Layout(content = {
        Indicator(state)
        SideBars(state, options, item)
    }, modifier = modifier, measurePolicy = { measurables, constraints -&gt;
            // MEASUREMENT SCOPE
            // 1. Measurement step
            // Determine sizes fo components
            // ready to measured!

            val (thumbMeasurable, sideBarMeasurable) = measurables

            val sideBarPlaceable = sideBarMeasurable.measure(constraints)

            val optionItemHeight = sideBarPlaceable.height / options.size

            val thumbPlaceable = thumbMeasurable.measure(
                Constraints.fixed(
                    width = sideBarPlaceable.width,
                    height = optionItemHeight
                )
            )

            layout(sideBarPlaceable.width, sideBarPlaceable.height) {
                //     PLACEMENT SCOPE
                //     Placement step
                //     Determine positions of components


                // Ready to be placed!
                sideBarPlaceable.placeRelative(IntOffset.Zero)
                thumbPlaceable.placeRelative(0, (selectedIndexOffset * optionItemHeight).toInt())
            }

        })
}</historyEntry>
        <historyEntry timestamp="1747121021147">è¿˜æ˜¯ä½¿ç”¨æœ€å¼€å§‹çš„æ–¹æ¡ˆå®ç°VanSideBarï¼Œå¹¶ä¸”å†…å®¹ä½¿ç”¨Layout å®ç°</historyEntry>
        <historyEntry timestamp="1747117343424">å‚ç…§TabRowScopeä¿®æ”¹VanSidebarç»„ä»¶</historyEntry>
        <historyEntry timestamp="1747116700273">é˜…è¯»ä¸‹é¢çš„ä»£ç ï¼Œä»¥ä¸ºä½¿ç”¨äº†keyå€¼ï¼Œæ‰€ä»¥æ¯æ¬¡åˆ‡æ¢ä¹‹åï¼Œæ‰€æœ‰çš„iteméƒ½é‡æ–°ç»˜åˆ¶äº†ï¼Œå¦‚ä½•åšåˆ°å€¼é‡æ–°ç»˜åˆ¶å¾—åˆ°é€‰ä¸­çš„å’Œå¤±å»é€‰ä¸­çš„
@Composable
fun VanSidebar(
    selectedIndex: Int,
    onChange: (Int) -&gt; Unit,
    modifier: Modifier = Modifier,
    content: @Composable VanSidebarScope.() -&gt; Unit
) {
    Column(modifier = modifier.background(Color.White)) {
        val scope = VanSidebarScopeImpl(selectedIndex, onChange)
        scope.content()
    }
}

interface VanSidebarScope {
    @Composable
    fun VanSideBarItem(title: String)
}

private class VanSidebarScopeImpl(
    private val selectedIndex: Int,
    private val onSelect: (Int) -&gt; Unit,
) : VanSidebarScope {

    private var index = 0
    @Composable
    override fun VanSideBarItem(title: String) {
        val currentIndex = index++
        key(currentIndex+selectedIndex) {
            Log.e(&quot;DONG&quot;, &quot;ğŸš€ ~ VanSideBarItem ~ recomposition currentIndex+selectedIndex: ${currentIndex+selectedIndex}&quot;)
            val isSelected = selectedIndex == currentIndex

            val backgroundColor by animateColorAsState(
                if (isSelected) Color.LightGray else Color.Transparent,
                label = &quot;SidebarItemBg&quot;
            )

            Box(
                modifier = Modifier
                    .width(90.dp)
                    .clickable { onSelect(currentIndex) }
                    .background(backgroundColor)
                    .padding(16.dp)
            ) {
                Text(
                    text = title,
                    color = if (isSelected) Color.Blue else Color.Black
                )
            }
        }
    }
}</historyEntry>
      </list>
    </option>
  </component>
</application>